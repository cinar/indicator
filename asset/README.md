<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# asset

```go
import "github.com/cinar/indicator/v2/asset"
```

Package asset contains the asset related functions.

This package belongs to the Indicator project. Indicator is a Golang module that supplies a variety of technical indicators, strategies, and a backtesting framework for analysis.

### License

```
Copyright (c) 2021-2024 Onur Cinar.
The source code is provided under GNU AGPLv3 License.
https://github.com/cinar/indicator
```

### Disclaimer

The information provided on this project is strictly for informational purposes and is not to be construed as advice or solicitation to buy or sell any security.

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func SnapshotsAsClosings\(snapshots \<\-chan \*Snapshot\) \<\-chan float64](<#SnapshotsAsClosings>)
- [func SnapshotsAsDates\(snapshots \<\-chan \*Snapshot\) \<\-chan time.Time](<#SnapshotsAsDates>)
- [func SnapshotsAsHighs\(snapshots \<\-chan \*Snapshot\) \<\-chan float64](<#SnapshotsAsHighs>)
- [func SnapshotsAsLows\(snapshots \<\-chan \*Snapshot\) \<\-chan float64](<#SnapshotsAsLows>)
- [func SnapshotsAsOpenings\(snapshots \<\-chan \*Snapshot\) \<\-chan float64](<#SnapshotsAsOpenings>)
- [func SnapshotsAsVolumes\(snapshots \<\-chan \*Snapshot\) \<\-chan int64](<#SnapshotsAsVolumes>)
- [type FileSystemRepository](<#FileSystemRepository>)
  - [func NewFileSystemRepository\(base string\) \*FileSystemRepository](<#NewFileSystemRepository>)
  - [func \(r \*FileSystemRepository\) Append\(name string, snapshots \<\-chan \*Snapshot\) error](<#FileSystemRepository.Append>)
  - [func \(r \*FileSystemRepository\) Assets\(\) \(\[\]string, error\)](<#FileSystemRepository.Assets>)
  - [func \(r \*FileSystemRepository\) Get\(name string\) \(\<\-chan \*Snapshot, error\)](<#FileSystemRepository.Get>)
  - [func \(r \*FileSystemRepository\) GetSince\(name string, date time.Time\) \(\<\-chan \*Snapshot, error\)](<#FileSystemRepository.GetSince>)
  - [func \(r \*FileSystemRepository\) LastDate\(name string\) \(time.Time, error\)](<#FileSystemRepository.LastDate>)
- [type InMemoryRepository](<#InMemoryRepository>)
  - [func NewInMemoryRepository\(\) \*InMemoryRepository](<#NewInMemoryRepository>)
  - [func \(r \*InMemoryRepository\) Append\(name string, snapshots \<\-chan \*Snapshot\) error](<#InMemoryRepository.Append>)
  - [func \(r \*InMemoryRepository\) Assets\(\) \(\[\]string, error\)](<#InMemoryRepository.Assets>)
  - [func \(r \*InMemoryRepository\) Get\(name string\) \(\<\-chan \*Snapshot, error\)](<#InMemoryRepository.Get>)
  - [func \(r \*InMemoryRepository\) GetSince\(name string, date time.Time\) \(\<\-chan \*Snapshot, error\)](<#InMemoryRepository.GetSince>)
  - [func \(r \*InMemoryRepository\) LastDate\(name string\) \(time.Time, error\)](<#InMemoryRepository.LastDate>)
- [type Repository](<#Repository>)
- [type Snapshot](<#Snapshot>)
- [type Sync](<#Sync>)
  - [func NewSync\(\) \*Sync](<#NewSync>)
  - [func \(s \*Sync\) Run\(source, target Repository, defaultStartDate time.Time\) error](<#Sync.Run>)
- [type TiingoEndOfDay](<#TiingoEndOfDay>)
  - [func \(e \*TiingoEndOfDay\) ToSnapshot\(\) \*Snapshot](<#TiingoEndOfDay.ToSnapshot>)
- [type TiingoMeta](<#TiingoMeta>)
- [type TiingoRepository](<#TiingoRepository>)
  - [func NewTiingoRepository\(apiKey string\) \*TiingoRepository](<#NewTiingoRepository>)
  - [func \(\*TiingoRepository\) Append\(\_ string, \_ \<\-chan \*Snapshot\) error](<#TiingoRepository.Append>)
  - [func \(\*TiingoRepository\) Assets\(\) \(\[\]string, error\)](<#TiingoRepository.Assets>)
  - [func \(r \*TiingoRepository\) Get\(name string\) \(\<\-chan \*Snapshot, error\)](<#TiingoRepository.Get>)
  - [func \(r \*TiingoRepository\) GetSince\(name string, date time.Time\) \(\<\-chan \*Snapshot, error\)](<#TiingoRepository.GetSince>)
  - [func \(r \*TiingoRepository\) LastDate\(name string\) \(time.Time, error\)](<#TiingoRepository.LastDate>)


## Constants

<a name="DefaultSyncWorkers"></a>

```go
const (
    // DefaultSyncWorkers is the default number of workers to use to synchronize.
    DefaultSyncWorkers = 1

    // DefaultSyncDelay is the default delay in seconds between each get request.
    DefaultSyncDelay = 5
)
```

## Variables

<a name="ErrRepositoryAssetEmpty"></a>ErrRepositoryAssetEmpty indicates that the given asset has no snapshots.

```go
var ErrRepositoryAssetEmpty = errors.New("asset empty")
```

<a name="ErrRepositoryAssetNotFound"></a>ErrRepositoryAssetNotFound indicates that the given asset name is not found in the repository.

```go
var ErrRepositoryAssetNotFound = errors.New("asset is not found")
```

<a name="SnapshotsAsClosings"></a>
## func [SnapshotsAsClosings](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L79>)

```go
func SnapshotsAsClosings(snapshots <-chan *Snapshot) <-chan float64
```

SnapshotsAsClosings extracts the close field from each snapshot in the provided channel and returns a new channel containing only those close values.The original snapshots channel can no longer be directly used afterwards.

<a name="SnapshotsAsDates"></a>
## func [SnapshotsAsDates](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L43>)

```go
func SnapshotsAsDates(snapshots <-chan *Snapshot) <-chan time.Time
```

SnapshotsAsDates extracts the date field from each snapshot in the provided channel and returns a new channel containing only those date values.The original snapshots channel can no longer be directly used afterwards.

<a name="SnapshotsAsHighs"></a>
## func [SnapshotsAsHighs](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L61>)

```go
func SnapshotsAsHighs(snapshots <-chan *Snapshot) <-chan float64
```

SnapshotsAsHighs extracts the high field from each snapshot in the provided channel and returns a new channel containing only those high values.The original snapshots channel can no longer be directly used afterwards.

<a name="SnapshotsAsLows"></a>
## func [SnapshotsAsLows](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L70>)

```go
func SnapshotsAsLows(snapshots <-chan *Snapshot) <-chan float64
```

SnapshotsAsLows extracts the low field from each snapshot in the provided channel and returns a new channel containing only those low values.The original snapshots channel can no longer be directly used afterwards.

<a name="SnapshotsAsOpenings"></a>
## func [SnapshotsAsOpenings](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L52>)

```go
func SnapshotsAsOpenings(snapshots <-chan *Snapshot) <-chan float64
```

SnapshotsAsOpenings extracts the open field from each snapshot in the provided channel and returns a new channel containing only those open values.The original snapshots channel can no longer be directly used afterwards.

<a name="SnapshotsAsVolumes"></a>
## func [SnapshotsAsVolumes](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L88>)

```go
func SnapshotsAsVolumes(snapshots <-chan *Snapshot) <-chan int64
```

SnapshotsAsVolumes extracts the volume field from each snapshot in the provided channel and returns a new channel containing only those volume values.The original snapshots channel can no longer be directly used afterwards.

<a name="FileSystemRepository"></a>
## type [FileSystemRepository](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L20-L23>)

FileSystemRepository stores and retrieves asset snapshots using the local file system.

```go
type FileSystemRepository struct {
    // contains filtered or unexported fields
}
```

<a name="NewFileSystemRepository"></a>
### func [NewFileSystemRepository](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L27>)

```go
func NewFileSystemRepository(base string) *FileSystemRepository
```

NewFileSystemRepository initializes a file system repository with the given base directory.

<a name="FileSystemRepository.Append"></a>
### func \(\*FileSystemRepository\) [Append](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L92>)

```go
func (r *FileSystemRepository) Append(name string, snapshots <-chan *Snapshot) error
```

Append adds the given snapshows to the asset with the given name.

<a name="FileSystemRepository.Assets"></a>
### func \(\*FileSystemRepository\) [Assets](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L34>)

```go
func (r *FileSystemRepository) Assets() ([]string, error)
```

Assets returns the names of all assets in the repository.

<a name="FileSystemRepository.Get"></a>
### func \(\*FileSystemRepository\) [Get](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L56>)

```go
func (r *FileSystemRepository) Get(name string) (<-chan *Snapshot, error)
```

Get attempts to return a channel of snapshots for the asset with the given name.

<a name="FileSystemRepository.GetSince"></a>
### func \(\*FileSystemRepository\) [GetSince](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L61>)

```go
func (r *FileSystemRepository) GetSince(name string, date time.Time) (<-chan *Snapshot, error)
```

GetSince attempts to return a channel of snapshots for the asset with the given name since the given date.

<a name="FileSystemRepository.LastDate"></a>
### func \(\*FileSystemRepository\) [LastDate](<https://github.com/cinar/indicator/blob/master/asset/file_system_repository.go#L75>)

```go
func (r *FileSystemRepository) LastDate(name string) (time.Time, error)
```

LastDate returns the date of the last snapshot for the asset with the given name.

<a name="InMemoryRepository"></a>
## type [InMemoryRepository](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L15-L18>)

InMemoryRepository stores and retrieves asset snapshots using an in memory storage.

```go
type InMemoryRepository struct {
    // contains filtered or unexported fields
}
```

<a name="NewInMemoryRepository"></a>
### func [NewInMemoryRepository](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L21>)

```go
func NewInMemoryRepository() *InMemoryRepository
```

NewInMemoryRepository initializes an in memory repository.

<a name="InMemoryRepository.Append"></a>
### func \(\*InMemoryRepository\) [Append](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L79>)

```go
func (r *InMemoryRepository) Append(name string, snapshots <-chan *Snapshot) error
```

Append adds the given snapshows to the asset with the given name.

<a name="InMemoryRepository.Assets"></a>
### func \(\*InMemoryRepository\) [Assets](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L28>)

```go
func (r *InMemoryRepository) Assets() ([]string, error)
```

Assets returns the names of all assets in the repository.

<a name="InMemoryRepository.Get"></a>
### func \(\*InMemoryRepository\) [Get](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L38>)

```go
func (r *InMemoryRepository) Get(name string) (<-chan *Snapshot, error)
```

Get attempts to return a channel of snapshots for the asset with the given name.

<a name="InMemoryRepository.GetSince"></a>
### func \(\*InMemoryRepository\) [GetSince](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L48>)

```go
func (r *InMemoryRepository) GetSince(name string, date time.Time) (<-chan *Snapshot, error)
```

GetSince attempts to return a channel of snapshots for the asset with the given name since the given date.

<a name="InMemoryRepository.LastDate"></a>
### func \(\*InMemoryRepository\) [LastDate](<https://github.com/cinar/indicator/blob/master/asset/in_memory_repository.go#L62>)

```go
func (r *InMemoryRepository) LastDate(name string) (time.Time, error)
```

LastDate returns the date of the last snapshot for the asset with the given name.

<a name="Repository"></a>
## type [Repository](<https://github.com/cinar/indicator/blob/master/asset/repository.go#L20-L39>)

Repository serves as a centralized storage and retrieval location for asset snapshots.

```go
type Repository interface {
    // Assets returns the names of all assets in the repository.
    Assets() ([]string, error)

    // Get attempts to return a channel of snapshots for
    // the asset with the given name.
    Get(name string) (<-chan *Snapshot, error)

    // GetSince attempts to return a channel of snapshots for
    // the asset with the given name since the given date.
    GetSince(name string, date time.Time) (<-chan *Snapshot, error)

    // LastDate returns the date of the last snapshot for
    // the asset with the given name.
    LastDate(name string) (time.Time, error)

    // Append adds the given snapshows to the asset with the
    // given name.
    Append(name string, snapshots <-chan *Snapshot) error
}
```

<a name="Snapshot"></a>
## type [Snapshot](<https://github.com/cinar/indicator/blob/master/asset/snapshot.go#L15-L38>)

Snapshot captures a single observation of an asset's price at a specific moment.

```go
type Snapshot struct {
    // Date represents the specific timestamp.
    Date time.Time `format:"2006-01-02"`

    // Open represents the opening price for the
    // snapshot period.
    Open float64

    // High represents the highest price reached
    // during the snapshot period.
    High float64

    // Low represents the lowest price reached
    // during the snapshot period.
    Low float64

    // Close represents the closing price for the
    // snapshot period.
    Close float64

    // Volume represents the total trading activity for
    // the asset during the snapshot period.
    Volume int64
}
```

<a name="Sync"></a>
## type [Sync](<https://github.com/cinar/indicator/blob/master/asset/sync.go#L25-L35>)

Sync represents the configuration parameters for synchronizing assets between repositories.

```go
type Sync struct {
    // Number of workers to use.
    Workers int

    // Delay between repository get requests to minimize the load to the remote server.
    Delay int

    // Assets is the name of the assets to be synced. If it is empty, all assets in the target repository
    // will be synced instead.
    Assets []string
}
```

<a name="NewSync"></a>
### func [NewSync](<https://github.com/cinar/indicator/blob/master/asset/sync.go#L38>)

```go
func NewSync() *Sync
```

NewSync function initializes a new sync instance with the default parameters.

<a name="Sync.Run"></a>
### func \(\*Sync\) [Run](<https://github.com/cinar/indicator/blob/master/asset/sync.go#L47>)

```go
func (s *Sync) Run(source, target Repository, defaultStartDate time.Time) error
```

Run synchronizes assets between the source and target repositories using multi\-worker concurrency.

<a name="TiingoEndOfDay"></a>
## type [TiingoEndOfDay](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L41-L80>)

TiingoEndOfDay is the repose from the end\-of\-day endpoint. https://www.tiingo.com/documentation/end-of-day

```go
type TiingoEndOfDay struct {
    // Date is the date this data pertains to.
    Date time.Time `json:"date"`

    // Open is the opening price.
    Open float64 `json:"open"`

    // High is the highest price.
    High float64 `json:"high"`

    // Low is the lowest price.
    Low float64 `json:"low"`

    // Close is the closing price.
    Close float64 `json:"close"`

    // Volume is the total volume.
    Volume int64 `json:"volume"`

    // AdjOpen is the adjusted opening price.
    AdjOpen float64 `json:"adjOpen"`

    // AdjHigh is the adjusted highest price.
    AdjHigh float64 `json:"adjHigh"`

    // AdjLow is the adjusted lowest price.
    AdjLow float64 `json:"adjLow"`

    // AdjClose is the adjusted closing price.
    AdjClose float64 `json:"adjClose"`

    // AdjVolume is the adjusted total volume.
    AdjVolume int64 `json:"adjVolume"`

    // Dividend is the dividend paid out.
    Dividend float64 `json:"divCash"`

    // Split to adjust values after a split.
    Split float64 `json:"splitFactor"`
}
```

<a name="TiingoEndOfDay.ToSnapshot"></a>
### func \(\*TiingoEndOfDay\) [ToSnapshot](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L83>)

```go
func (e *TiingoEndOfDay) ToSnapshot() *Snapshot
```

ToSnapshot converts the Tiingo end\-of\-day to a snapshot.

<a name="TiingoMeta"></a>
## type [TiingoMeta](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L19-L37>)

TiingoMeta is the response from the meta endpoint. https://www.tiingo.com/documentation/end-of-day

```go
type TiingoMeta struct {
    // Ticker related to the asset.
    Ticker string `json:"ticker"`

    // Name is the full name of the asset.
    Name string `json:"name"`

    // ExchangeCode is the exchange where the asset is listed on.
    ExchangeCode string `json:"exchangeCode"`

    // Description is the description of the asset.
    Description string `json:"description"`

    // StartDate is the earliest date for the asset data.
    StartDate time.Time `json:"startDate"`

    // EndDate is the latest date for the asset data.
    EndDate time.Time `json:"endDate"`
}
```

<a name="TiingoRepository"></a>
## type [TiingoRepository](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L98-L109>)

TiingoRepository provides access to financial market data, retrieving asset snapshots, by interacting with the Tiingo Stock & Financial Markets API. To use this repository, you'll need a valid API key from https://www.tiingo.com.

```go
type TiingoRepository struct {
    Repository

    // BaseURL is the Tiingo API URL.
    BaseURL string
    // contains filtered or unexported fields
}
```

<a name="NewTiingoRepository"></a>
### func [NewTiingoRepository](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L113>)

```go
func NewTiingoRepository(apiKey string) *TiingoRepository
```

NewTiingoRepository initializes a file system repository with the given API key.

<a name="TiingoRepository.Append"></a>
### func \(\*TiingoRepository\) [Append](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L234>)

```go
func (*TiingoRepository) Append(_ string, _ <-chan *Snapshot) error
```

Append adds the given snapshows to the asset with the given name.

<a name="TiingoRepository.Assets"></a>
### func \(\*TiingoRepository\) [Assets](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L122>)

```go
func (*TiingoRepository) Assets() ([]string, error)
```

Assets returns the names of all assets in the repository.

<a name="TiingoRepository.Get"></a>
### func \(\*TiingoRepository\) [Get](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L127>)

```go
func (r *TiingoRepository) Get(name string) (<-chan *Snapshot, error)
```

Get attempts to return a channel of snapshots for the asset with the given name.

<a name="TiingoRepository.GetSince"></a>
### func \(\*TiingoRepository\) [GetSince](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L132>)

```go
func (r *TiingoRepository) GetSince(name string, date time.Time) (<-chan *Snapshot, error)
```

GetSince attempts to return a channel of snapshots for the asset with the given name since the given date.

<a name="TiingoRepository.LastDate"></a>
### func \(\*TiingoRepository\) [LastDate](<https://github.com/cinar/indicator/blob/master/asset/tiingo_repository.go#L194>)

```go
func (r *TiingoRepository) LastDate(name string) (time.Time, error)
```

LastDate returns the date of the last snapshot for the asset with the given name.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
